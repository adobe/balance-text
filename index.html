<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Balance-text : A jQuery plugin for implementing balancing of wrapping text in a web page" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Balance-text</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
      <header class="inner">
        <a id="forkme_banner" href="https://github.com/adobe-webplatform/balance-text">View on GitHub</a>

        <h1 id="project_title">BalanceText</h1>
        <h2 id="project_tagline">A plugin for balancing wrapping text in a web page</h2>

        <section id="downloads">
          <a class="zip_download_link" href="https://github.com/adobe-webplatform/balance-text/zipball/master">Download this project as a .zip file</a>
          <a class="tar_download_link" href="https://github.com/adobe-webplatform/balance-text/tarball/master">Download this project as a tar.gz file</a>
        </section>
      </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>BalanceText</h1>
        <p>A utility to provide an alternate text wrapping algorithm. I hope to get this into the CSS spec, so it's implemented as an optional "polyfill".  It already appears in the <a href="https://drafts.csswg.org/css-text-4/#text-wrap">CSS Text Module Level 4 Editor's Draft.</a></p>
        <p>The default text rendering algorithm is:</p>
        <ol>
          <li>Add 1 word at a time to the current line until the next word won't fit.</li>
          <li>Break text so that the next word starts on a new line.</li>
          <li>Repeat until all text has been rendered.</li>
        </ol>
        <p>That algorithm guarantees that the text is rendered using the least number of lines, but when text is centered and wraps to more than 1 line, it can produce visually undesirable results such as a long line of centered text followed by a short line of centered text. What I want is for the text to be balanced across lines. By "balanced across lines", I mean that the text is rendered so that the amount of text on each line is about the same. This plugin implements a line-breaking algorithm to do that automatically.</p>
        
        <h2>How it works</h2>
        <p>Here is a simple Balance Text setup:</p>
        
        <pre>    &lt;style type="text/css"&gt;
    /* Plugin looks for elements with class named "balance-text" */
    .balance-text {
        text-wrap: balance;   /* Apply (proposed) CSS style */
    }
    &lt;/style&gt;

    &lt;script src="balancetext.min.js"&gt;&lt;/script&gt;
    &lt;script&gt;
      balanceText();
    &lt;/script&gt;</pre>

        <p>See the <a href="demo/index.html">demo</a> provided for a working sample.</p>
          <p>If you call <code>balanceText()</code>, Balance Text will automatically run on any elements with <code>balance-text</code> class:</p>
        <ul>
          <li>when the page loads (DOM Ready event)</li>
          <li>when it is resized</li>
        </ul>
        <p>You may also <em>manually</em> trigger it, e.g. if you're dynamically adding text to the DOM:</p>

        <pre>    balanceText(el);       // Balance single element
    balanceText([el, el]); // Balance list of elements
    balanceText('.el');    // Balance list based on query selector</pre>

        <p>This will apply the balance-text formatting once.  If you'd like to re-apply automatically during window resize, you can use pass an options parameter instead:</p>

        <pre>    balanceText(el, {watch: true});</pre>

        <p>If you need to manually re-balance all triggered elements, use:</p>

        <pre>    balanceText.updateWatched();</pre>

        <h2>How to use with jQuery</h2>
        <p>This library used to be implemented as a jQuery plugin (as of v2.0.0) but was re-written as a native utility (as of 3.0.0).  If you'd like to continue using the jQuery interface, you can continue using 2.0.0 (link below).</p>
          <p>You can also migrate to <code>balanceText()</code> from jQuery using this guide (shown compared to the 2.0.0 interface):</p>

        <pre>    // Put the balanceText utility into "polyfill" mode
    // This was the default mode of the 2.0.0 jQuery plugin when it loaded
    $.ready(function() {
        balanceText(); 
    });

    // manually trigger on a list of elements
    balanceText($('.my-class')); // equivalent to $('.my-class').balanceText();

    // manually trigger on a list of elements and update on browser resize
    balanceText($('.my-class'), {watch: true}); // equivalent to $.balanceText('.my-class');

    // manually re-balance all triggered elements
    balanceText.updateWatched(); // equivalent to $.fn.balanceTextUpdate();</pre>

        <h2>Use from a CDN</h2>
        <ul class="simple-list">
          <li><a href="//cdnjs.cloudflare.com/ajax/libs/balance-text/3.3.1/balancetext.min.js">//cdnjs.cloudflare.com/ajax/libs/balance-text/3.3.1/balancetext.min.js</a></li>
          <li><a href="//cdn.jsdelivr.net/npm/balance-text@3.3.1/balancetext.min.js">//cdn.jsdelivr.net/npm/balance-text@3.3.1/balancetext.min.js</a></li>
        </ul>

        <h3>Legacy (3.2.1)</h3>
        <p>Support for Internet Explorer was dropped in v3.3.0, so use v3.2.1 for IE support.</p>
        <ul class="simple-list">
          <li><a href="//cdnjs.cloudflare.com/ajax/libs/balance-text/3.2.1/balancetext.min.js">//cdnjs.cloudflare.com/ajax/libs/balance-text/3.2.1/balancetext.min.js</a></li>
          <li><a href="//cdn.jsdelivr.net/npm/balance-text@3.2.1/balancetext.min.js">//cdn.jsdelivr.net/npm/balance-text@3.2.1/balancetext.min.js</a></li>
        </ul>

        <h3>Legacy (2.0.0)</h3>
        <p>Has a hard requirement on JQuery</p>
        <ul class="simple-list">
          <li><a href="//cdnjs.cloudflare.com/ajax/libs/balance-text/2.0.0/jquery.balancetext.min.js">//cdnjs.cloudflare.com/ajax/libs/balance-text/2.0.0/jquery.balancetext.min.js</a></li>
          <li><a href="//cdn.jsdelivr.net/jquery.balancetext/2.0.0/jquery.balancetext.min.js">//cdn.jsdelivr.net/jquery.balancetext/2.0.0/jquery.balancetext.min.js</a></li>
        </ul>

        <h2>Requirements</h2>
        <p>BalanceText does not have any dependencies. BalanceText is designed to run in most modern browsers.</p>
        
        <h2>Development</h2>
        <h3>Linting</h3>
        <p>Make sure the code passes ESLint:</p>
        <pre>    npm run lint</pre>

        <h3>Minification</h3>
        <p>We minify using Uglify-JS:</p>
        <pre>    npm run build</pre>

        <h2>Changelog</h2>
        <ul>
          <li>v 1.0.x - Initial Release, bug fix by chrisbank, better break point detection mmcgahan</li>
          <li>v 1.1.0 - Simplified applying polyfill</li>
          <li>v 1.2.x - text-align:justify (hunterjm) line-height (jonathanpatt), right aligned text fix</li>
          <li>v 1.3.x - Debounce resizing events, more accurate space width estimate</li>
          <li>v 1.4.0 - Add support for nested tags (rileyjshaw)</li>
          <li>v 1.5.0 - Re-balance text on resize for manually triggered selectors (rileyjshaw)</li>
          <li>v 1.6.x - Add balanceTextUpdate() method (rileyjshaw), bug fixes (bfred-it)</li>
          <li>v 1.7.0 - Hack for partially working with jQuery 3, remove deprecation warning</li>
          <li>v 2.0.0 - Fix automatic updating of custom selectors for jQuery 3 (bfred-it)</li>
          <li>v 3.0.0 - Remove the jQuery dependency (BrianGenisio, bfred-it)</li>
          <li>v 3.1.x - Support for hyphens, white-space:nowrap</li>
          <li>v 3.2.x - Support for unwatch (weotch), non-breaking-space fix (bjnsn)</li>
          <li>v 3.3.x - Support Server Side rendering (jakimarks), accessibility fix (jonjahr)</li>
        </ul>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Balance-text maintained by <a href="https://github.com/redmunds">Randy Edmunds</a> and <a href="https://github.com/adobe-webplatform">adobe-webplatform</a></p>
        <p>Give us feedback on Twitter at <a href="https://twitter.com/randyedmunds">@randyedmunds</a> or <a href="https://twitter.com/adobeweb">@adobeweb</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

  </body>
</html>
